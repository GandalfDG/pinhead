[gd_scene load_steps=6 format=3 uid="uid://dxy60i7pcq7a6"]

[ext_resource type="Script" path="res://elements/flipper/flipper.gd" id="1_p24pt"]
[ext_resource type="Script" path="res://elements/flipper/FlipperBody.gd" id="2_4le5i"]
[ext_resource type="ArrayMesh" uid="uid://bk0gbo1ygf1l3" path="res://meshes/flipper2.obj" id="4_6pddn"]
[ext_resource type="Script" path="res://utilities/SolenoidSpring.gd" id="4_8wtpa"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_2puoo"]
points = PackedVector3Array(0.892864, 0.442235, -0.0007658, 0.673843, 0.536564, -0.000333071, 0.660908, 0.536564, 0.131223, 0.875559, 0.442235, 0.174066, 0.892864, -0.44234, -0.0007658, 0.592562, 0.442235, -2.95645, 0.367424, 0.536564, -3.00795, 0.622453, 0.536564, 0.257587, 0.824868, 0.442235, 0.34154, 0.875559, -0.44234, 0.174066, 0.660908, -0.536564, 0.131223, 0.673843, -0.536564, -0.000333071, 0.592562, -0.44234, -2.95645, 0.582249, 0.442235, -3.05036, 0.548339, 0.442235, -3.16201, 0.346098, 0.536564, -3.07806, 0.560225, 0.536564, 0.373997, 0.742364, 0.442235, 0.496032, 0.824868, -0.44234, 0.34154, 0.622453, -0.536564, 0.257587, 0.367424, -0.536564, -3.00795, 0.582249, -0.44234, -3.05036, 0.311489, 0.536564, -3.14297, 0.548339, -0.44234, -3.16201, 0.493627, 0.442235, -3.26457, 0.476497, 0.536564, 0.476126, 0.742364, -0.44234, 0.496032, 0.631193, 0.442235, 0.631051, 0.560225, -0.536564, 0.373997, 0.346098, -0.536564, -3.07806, 0.264993, 0.536564, -3.19966, 0.311489, -0.536564, -3.14297, 0.493627, -0.44234, -3.26457, 0.419688, 0.442235, -3.35459, 0.374241, 0.536564, 0.56008, 0.4959, 0.442235, 0.742268, 0.631193, -0.44234, 0.631051, 0.476497, -0.536564, 0.476126, 0.208184, 0.536564, -3.2464, 0.264993, -0.536564, -3.19966, 0.419688, -0.44234, -3.35459, 0.329668, 0.442235, -3.42815, 0.257826, 0.536564, 0.622396, 0.341554, 0.442235, 0.824491, 0.4959, -0.44234, 0.742268, 0.374241, -0.536564, 0.56008, 0.227062, 0.442235, -3.48311, 0.143334, 0.536564, -3.28102, 0.208184, -0.536564, -3.2464, 0.329668, -0.44234, -3.42815, 0.131448, 0.536564, 0.660911, 0.174098, 0.442235, 0.875555, 0.341554, -0.44234, 0.824491, 0.257826, -0.536564, 0.622396, 0.227062, -0.44234, -3.48311, 0.115716, 0.442235, -3.51687, 0.0730652, 0.536564, -3.30222, 0.143334, -0.536564, -3.28102, 0, 0.536564, 0.673893, 0, 0.442235, 0.892865, 0.174098, -0.44234, 0.875555, 0.131448, -0.536564, 0.660911, 0.115716, -0.44234, -3.51687, 0, 0.442235, -3.52812, 0, 0.536564, -3.30958, 0.0730652, -0.536564, -3.30222, -0.131622, 0.536564, 0.660911, 0, -0.44234, 0.892865, -0.174273, 0.442235, 0.875555, 0, -0.536564, 0.673893, 0, -0.44234, -3.52812, 0, -0.536564, -3.30958, -0.115891, 0.442235, -3.51687, -0.07324, 0.536564, -3.30222, -0.258001, 0.536564, 0.622396, -0.174273, -0.44234, 0.875555, -0.131622, -0.536564, 0.660911, -0.341728, 0.442235, 0.824491, -0.115891, -0.44234, -3.51687, -0.07324, -0.536564, -3.30222, -0.227236, 0.442235, -3.48311, -0.143508, 0.536564, -3.28102, -0.374416, 0.536564, 0.56008, -0.496074, 0.442235, 0.742268, -0.341728, -0.44234, 0.824491, -0.258001, -0.536564, 0.622396, -0.143508, -0.536564, -3.28102, -0.227236, -0.44234, -3.48311, -0.329842, 0.442235, -3.42815, -0.208358, 0.536564, -3.2464, -0.476672, 0.536564, 0.476126, -0.496074, -0.44234, 0.742268, -0.631367, 0.442235, 0.631051, -0.374416, -0.536564, 0.56008, -0.208358, -0.536564, -3.2464, -0.329842, -0.44234, -3.42815, -0.419863, 0.442235, -3.35459, -0.265167, 0.536564, -3.19966, -0.5604, 0.536564, 0.373997, -0.742538, 0.442235, 0.496032, -0.631367, -0.44234, 0.631051, -0.476672, -0.536564, 0.476126, -0.419863, -0.44234, -3.35459, -0.265167, -0.536564, -3.19966, -0.493802, 0.442235, -3.26457, -0.311663, 0.536564, -3.14297, -0.622628, 0.536564, 0.257587, -0.742538, -0.44234, 0.496032, -0.825043, 0.442235, 0.34154, -0.5604, -0.536564, 0.373997, -0.493802, -0.44234, -3.26457, -0.311663, -0.536564, -3.14297, -0.548514, 0.442235, -3.16201, -0.346273, 0.536564, -3.07806, -0.661083, 0.536564, 0.131223, -0.825043, -0.44234, 0.34154, -0.622628, -0.536564, 0.257587, -0.875734, 0.442235, 0.174066, -0.548514, -0.44234, -3.16201, -0.346273, -0.536564, -3.07806, -0.582424, 0.442235, -3.05036, -0.367598, 0.536564, -3.00795, -0.674018, 0.536564, -0.000333071, -0.875734, -0.44234, 0.174066, -0.661083, -0.536564, 0.131223, -0.892864, 0.442235, -0.0007658, -0.367598, -0.536564, -3.00795, -0.582424, -0.44234, -3.05036, -0.592737, 0.442235, -2.95645, -0.892864, -0.44234, -0.0007658, -0.674018, -0.536564, -0.000333071, -0.592737, -0.44234, -2.95645)

[node name="Flipper" type="Node3D"]
script = ExtResource("1_p24pt")

[node name="Pivot" type="JoltHingeJoint3D" parent="."]
limit_enabled = true
limit_upper = 0.698132
limit_spring_enabled = true
limit_spring_frequency = 100.0
limit_spring_damping = 0.1
node_a = NodePath("../FlipperBody")
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 0, 0)

[node name="FlipperBody" type="RigidBody3D" parent="."]
collision_layer = 4
collision_mask = 0
mass = 0.1
center_of_mass_mode = 1
continuous_cd = true
script = ExtResource("2_4le5i")

[node name="SolenoidSpring" type="Node3D" parent="FlipperBody"]
rotation_edit_mode = 1
script = ExtResource("4_8wtpa")
force_type = 1
solenoid_force = 500.0
spring_stiffness = 300.0
resting_spring_extension = 50.0
activation_type = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="FlipperBody"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
mesh = ExtResource("4_6pddn")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="FlipperBody"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_2puoo")

[connection signal="enable" from="." to="FlipperBody" method="_on_flipper_enable"]
[connection signal="flipping" from="." to="FlipperBody" method="_on_flipper_flipping"]
