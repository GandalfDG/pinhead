[gd_scene load_steps=9 format=3 uid="uid://dxy60i7pcq7a6"]

[ext_resource type="Script" path="res://elements/flipper/flipper.gd" id="1_p24pt"]
[ext_resource type="Script" path="res://elements/flipper/FlipperBody.gd" id="2_4le5i"]
[ext_resource type="Script" path="res://utilities/SolenoidSpring.gd" id="4_8wtpa"]
[ext_resource type="ArrayMesh" uid="uid://bbv7b1e83raqq" path="res://meshes/flipper3.obj" id="4_d7sv0"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ar7xr"]
friction = 0.8
bounce = 0.1

[sub_resource type="CylinderShape3D" id="CylinderShape3D_yjeyo"]
radius = 0.438041

[sub_resource type="CylinderShape3D" id="CylinderShape3D_8tjwj"]
radius = 0.222356

[sub_resource type="BoxShape3D" id="BoxShape3D_icuit"]
size = Vector3(3.11814, 1, 1)

[node name="Flipper" type="Node3D"]
script = ExtResource("1_p24pt")

[node name="Pivot" type="JoltHingeJoint3D" parent="."]
limit_enabled = true
limit_upper = 0.698132
limit_spring_enabled = true
limit_spring_frequency = 100.0
limit_spring_damping = 0.1
node_a = NodePath("../FlipperBody")
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 0, 0)

[node name="FlipperBody" type="RigidBody3D" parent="."]
collision_layer = 4
collision_mask = 0
mass = 0.02
center_of_mass_mode = 1
physics_material_override = SubResource("PhysicsMaterial_ar7xr")
continuous_cd = true
angular_damp_mode = 1
angular_damp = 0.1
script = ExtResource("2_4le5i")

[node name="SolenoidSpring" type="Node3D" parent="FlipperBody"]
rotation_edit_mode = 1
script = ExtResource("4_8wtpa")
force_type = 1
solenoid_force = 2000.0
spring_stiffness = 25.0
resting_spring_extension = 0.5
activation_type = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="FlipperBody"]
mesh = ExtResource("4_d7sv0")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="FlipperBody"]
shape = SubResource("CylinderShape3D_yjeyo")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="FlipperBody"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.07323, 0, 0)
shape = SubResource("CylinderShape3D_8tjwj")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="FlipperBody"]
transform = Transform3D(0.997564, 0, -0.0697565, 0, 1, 0, 0.0697565, 0, 0.997564, 1.52325, 0, 0.16695)
shape = SubResource("BoxShape3D_icuit")

[connection signal="enable" from="." to="FlipperBody" method="_on_flipper_enable"]
[connection signal="flipping" from="." to="FlipperBody" method="_on_flipper_flipping"]
